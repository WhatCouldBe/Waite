{"ast":null,"code":"// client/src/pages/Signup.js\nimport React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import{signup}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(_ref){let{setUserSignupData,setGlobalError}=_ref;const navigate=useNavigate();const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPass,setConfirmPass]=useState('');const[terms,setTerms]=useState(false);const[errorMsg,setErrorMsg]=useState(null);const passwordMeetsRules=pwd=>{// Example: at least 8 chars, 1 uppercase, 1 digit\nconst lengthOk=pwd.length>=8;const upperOk=/[A-Z]/.test(pwd);const digitOk=/\\d/.test(pwd);return lengthOk&&upperOk&&digitOk;};const handleSubmit=async e=>{e.preventDefault();setErrorMsg(null);setGlobalError(null);if(!passwordMeetsRules(password)){return setErrorMsg('Password must be at least 8 characters, include an uppercase letter and a digit.');}if(password!==confirmPass){return setErrorMsg('Passwords do not match.');}if(!terms){return setErrorMsg('You must agree to the terms and conditions.');}try{const result=await signup({name,email,password});if(result.message&&result.message.toLowerCase().includes('successful')){// Save user info for verify step\nsetUserSignupData({email});navigate('/verify');}else{setErrorMsg(result.message||'Signup failed.');}}catch(err){console.error(err);setErrorMsg('Failed to reach server. Please try again later.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Your Account\"}),errorMsg&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errorMsg}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your Name\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"you@example.com\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"password-rules\",style:{marginTop:'0.5rem'},children:\"At least 8 characters, 1 uppercase, 1 digit\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPass,onChange:e=>setConfirmPass(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"terms-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"terms\",checked:terms,onChange:()=>setTerms(!terms)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"terms\",children:\"I agree to the Terms & Conditions\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-links\",children:/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Already have an account? Sign In\"})})]});}","map":{"version":3,"names":["React","useState","useNavigate","Link","signup","jsx","_jsx","jsxs","_jsxs","Signup","_ref","setUserSignupData","setGlobalError","navigate","name","setName","email","setEmail","password","setPassword","confirmPass","setConfirmPass","terms","setTerms","errorMsg","setErrorMsg","passwordMeetsRules","pwd","lengthOk","length","upperOk","test","digitOk","handleSubmit","e","preventDefault","result","message","toLowerCase","includes","err","console","error","className","children","onSubmit","type","placeholder","value","onChange","target","required","style","marginTop","id","checked","htmlFor","to"],"sources":["C:/Users/melkote/Downloads/ActuallyAlmostFinalizedWaite-main1/ActuallyAlmostFinalizedWaite-main/client/src/pages/Signup.js"],"sourcesContent":["// client/src/pages/Signup.js\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { signup } from '../api';\n\nexport default function Signup({ setUserSignupData, setGlobalError }) {\n  const navigate = useNavigate();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPass, setConfirmPass] = useState('');\n  const [terms, setTerms] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  const passwordMeetsRules = (pwd) => {\n    // Example: at least 8 chars, 1 uppercase, 1 digit\n    const lengthOk = pwd.length >= 8;\n    const upperOk = /[A-Z]/.test(pwd);\n    const digitOk = /\\d/.test(pwd);\n    return lengthOk && upperOk && digitOk;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setErrorMsg(null);\n    setGlobalError(null);\n\n    if (!passwordMeetsRules(password)) {\n      return setErrorMsg('Password must be at least 8 characters, include an uppercase letter and a digit.');\n    }\n    if (password !== confirmPass) {\n      return setErrorMsg('Passwords do not match.');\n    }\n    if (!terms) {\n      return setErrorMsg('You must agree to the terms and conditions.');\n    }\n\n    try {\n      const result = await signup({ name, email, password });\n      if (result.message && result.message.toLowerCase().includes('successful')) {\n        // Save user info for verify step\n        setUserSignupData({ email });\n        navigate('/verify');\n      } else {\n        setErrorMsg(result.message || 'Signup failed.');\n      }\n    } catch (err) {\n      console.error(err);\n      setErrorMsg('Failed to reach server. Please try again later.');\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <h2>Create Your Account</h2>\n      {errorMsg && <div className=\"error\">{errorMsg}</div>}\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Name</label>\n          <input \n            type=\"text\" \n            placeholder=\"Your Name\" \n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            required \n          />\n        </div>\n\n        <div>\n          <label>Email</label>\n          <input \n            type=\"email\" \n            placeholder=\"you@example.com\" \n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required \n          />\n        </div>\n\n        <div>\n          <label>Password</label>\n          <input \n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required \n          />\n          {/* Added a bit of top margin to move text further from the input */}\n          <div className=\"password-rules\" style={{ marginTop: '0.5rem' }}>\n            At least 8 characters, 1 uppercase, 1 digit\n          </div>\n        </div>\n\n        <div>\n          <label>Confirm Password</label>\n          <input \n            type=\"password\"\n            value={confirmPass}\n            onChange={(e) => setConfirmPass(e.target.value)}\n            required \n          />\n        </div>\n\n        <div className=\"terms-container\">\n          <input\n            type=\"checkbox\"\n            id=\"terms\"\n            checked={terms}\n            onChange={() => setTerms(!terms)}\n          />\n          <label htmlFor=\"terms\">I agree to the Terms & Conditions</label>\n        </div>\n\n        <button type=\"submit\">Sign Up</button>\n      </form>\n\n      <div className=\"form-links\">\n        <Link to=\"/signin\">Already have an account? Sign In</Link>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}