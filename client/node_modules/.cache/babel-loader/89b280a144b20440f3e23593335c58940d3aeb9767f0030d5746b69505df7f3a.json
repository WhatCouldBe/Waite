{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\melkote\\\\Desktop\\\\ActuallyAlmostFinalizedWaite-main1\\\\ActuallyAlmostFinalizedWaite-main\\\\client\\\\src\\\\pages\\\\ForgotPassword.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { requestPasswordOTP, otpLogin } from '../api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CodeInput({\n  value,\n  onChange\n}) {\n  _s();\n  const inputsRef = useRef([]);\n  const length = 6;\n  const handleChange = (e, index) => {\n    const char = e.target.value.toUpperCase();\n    let newVal = value.split('');\n    newVal[index] = char;\n    while (newVal.length < length) {\n      newVal.push('');\n    }\n    const newCode = newVal.slice(0, length).join('');\n    onChange(newCode);\n    if (char && index < length - 1) {\n      inputsRef.current[index + 1].focus();\n    }\n  };\n  const handleKeyDown = (e, index) => {\n    if (e.key === 'Backspace') {\n      e.preventDefault();\n      let newVal = value.split('');\n      if (newVal[index]) {\n        newVal[index] = '';\n        onChange(newVal.join(''));\n      } else if (index > 0) {\n        inputsRef.current[index - 1].focus();\n        let prevVal = value.split('');\n        prevVal[index - 1] = '';\n        onChange(prevVal.join(''));\n      }\n    }\n  };\n  const handlePaste = e => {\n    e.preventDefault();\n    const pasteData = e.clipboardData.getData('text').toUpperCase().replace(/\\s/g, '');\n    let pasteChars = pasteData.split('').slice(0, length);\n    while (pasteChars.length < length) {\n      pasteChars.push('');\n    }\n    const newCode = pasteChars.join('');\n    onChange(newCode);\n    const lastIndex = Math.min(pasteChars.length, length) - 1;\n    if (inputsRef.current[lastIndex]) {\n      inputsRef.current[lastIndex].focus();\n    }\n  };\n  const codeArray = [];\n  for (let i = 0; i < length; i++) {\n    codeArray.push(value[i] || '');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"code-input-container\",\n    children: codeArray.map((char, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      maxLength: \"1\",\n      value: char,\n      onChange: e => handleChange(e, index),\n      onKeyDown: e => handleKeyDown(e, index),\n      onPaste: handlePaste,\n      ref: el => inputsRef.current[index] = el,\n      className: \"code-input-bubble\"\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(CodeInput, \"eRUM/Nina6q01Ggvsw3e8PaEedE=\");\n_c = CodeInput;\nexport default function ForgotPassword({\n  setIsAuthenticated\n}) {\n  _s2();\n  const navigate = useNavigate();\n\n  // step = 1 -> user enters email.\n  // step = 2 -> user enters OTP.\n  const [step, setStep] = useState(1);\n\n  // For step 1:\n  const [email, setEmail] = useState('');\n  // For step 2 (OTP), using a string instead of an array.\n  const [otp, setOtp] = useState('');\n  const [errorMsg, setErrorMsg] = useState(null);\n  const [successMsg, setSuccessMsg] = useState(null);\n\n  // Step 1: Send OTP.\n  const handleSendOTP = async e => {\n    e.preventDefault();\n    setErrorMsg(null);\n    setSuccessMsg(null);\n    if (!email) {\n      return setErrorMsg('Please enter your email.');\n    }\n    try {\n      const result = await requestPasswordOTP(email);\n      if (result.message && result.message.toLowerCase().includes('one-time code sent')) {\n        setSuccessMsg(result.message);\n        // Switch to OTP step after a short delay.\n        setTimeout(() => {\n          setStep(2);\n          setSuccessMsg(null);\n        }, 1500);\n      } else {\n        setErrorMsg(result.message || 'Failed to send code.');\n      }\n    } catch (err) {\n      console.error(err);\n      setErrorMsg('Failed to reach server.');\n    }\n  };\n\n  // Step 2: Verify OTP.\n  const handleVerifyOTP = async e => {\n    e.preventDefault();\n    setErrorMsg(null);\n    setSuccessMsg(null);\n    if (!otp || otp.length < 6) {\n      return setErrorMsg('Please enter the 6-digit code.');\n    }\n    try {\n      const result = await otpLogin(email, otp);\n      if (result.message && result.message.toLowerCase().includes('otp login successful')) {\n        localStorage.setItem('bacshotsUser', JSON.stringify(result.user));\n        setIsAuthenticated(true);\n        navigate('/change-password');\n      } else {\n        setErrorMsg(result.message || 'OTP Login failed.');\n      }\n    } catch (err) {\n      console.error(err);\n      setErrorMsg('Failed to reach server.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [step === 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Forgot Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"subheader\",\n        children: \"Enter your verified email to receive a one-time login code.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 24\n      }, this), successMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success\",\n        children: successMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSendOTP,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"you@example.com\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Send OTP Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), step === 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Enter Verification Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"subheader\",\n        children: [\"We sent a 6-digit code to \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 39\n        }, this), \". Enter it below.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: errorMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 24\n      }, this), successMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success\",\n        children: successMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleVerifyOTP,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginTop: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(CodeInput, {\n            value: otp,\n            onChange: setOtp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            marginTop: '1rem'\n          },\n          children: \"Verify Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n_s2(ForgotPassword, \"i1kL4hCVDRml64R0qDcT4wv3ng0=\", false, function () {\n  return [useNavigate];\n});\n_c2 = ForgotPassword;\nvar _c, _c2;\n$RefreshReg$(_c, \"CodeInput\");\n$RefreshReg$(_c2, \"ForgotPassword\");","map":{"version":3,"names":["React","useState","useRef","useNavigate","requestPasswordOTP","otpLogin","jsxDEV","_jsxDEV","Fragment","_Fragment","CodeInput","value","onChange","_s","inputsRef","length","handleChange","e","index","char","target","toUpperCase","newVal","split","push","newCode","slice","join","current","focus","handleKeyDown","key","preventDefault","prevVal","handlePaste","pasteData","clipboardData","getData","replace","pasteChars","lastIndex","Math","min","codeArray","i","className","children","map","type","maxLength","onKeyDown","onPaste","ref","el","fileName","_jsxFileName","lineNumber","columnNumber","_c","ForgotPassword","setIsAuthenticated","_s2","navigate","step","setStep","email","setEmail","otp","setOtp","errorMsg","setErrorMsg","successMsg","setSuccessMsg","handleSendOTP","result","message","toLowerCase","includes","setTimeout","err","console","error","handleVerifyOTP","localStorage","setItem","JSON","stringify","user","onSubmit","placeholder","required","style","display","justifyContent","marginTop","_c2","$RefreshReg$"],"sources":["C:/Users/melkote/Desktop/ActuallyAlmostFinalizedWaite-main1/ActuallyAlmostFinalizedWaite-main/client/src/pages/ForgotPassword.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { requestPasswordOTP, otpLogin } from '../api';\n\nfunction CodeInput({ value, onChange }) {\n  const inputsRef = useRef([]);\n  const length = 6;\n  \n  const handleChange = (e, index) => {\n    const char = e.target.value.toUpperCase();\n    let newVal = value.split('');\n    newVal[index] = char;\n    while (newVal.length < length) {\n      newVal.push('');\n    }\n    const newCode = newVal.slice(0, length).join('');\n    onChange(newCode);\n    if (char && index < length - 1) {\n      inputsRef.current[index + 1].focus();\n    }\n  };\n\n  const handleKeyDown = (e, index) => {\n    if (e.key === 'Backspace') {\n      e.preventDefault();\n      let newVal = value.split('');\n      if (newVal[index]) {\n        newVal[index] = '';\n        onChange(newVal.join(''));\n      } else if (index > 0) {\n        inputsRef.current[index - 1].focus();\n        let prevVal = value.split('');\n        prevVal[index - 1] = '';\n        onChange(prevVal.join(''));\n      }\n    }\n  };\n\n  const handlePaste = (e) => {\n    e.preventDefault();\n    const pasteData = e.clipboardData.getData('text').toUpperCase().replace(/\\s/g, '');\n    let pasteChars = pasteData.split('').slice(0, length);\n    while (pasteChars.length < length) {\n      pasteChars.push('');\n    }\n    const newCode = pasteChars.join('');\n    onChange(newCode);\n    const lastIndex = Math.min(pasteChars.length, length) - 1;\n    if (inputsRef.current[lastIndex]) {\n      inputsRef.current[lastIndex].focus();\n    }\n  };\n\n  const codeArray = [];\n  for (let i = 0; i < length; i++) {\n    codeArray.push(value[i] || '');\n  }\n\n  return (\n    <div className=\"code-input-container\">\n      {codeArray.map((char, index) => (\n        <input\n          key={index}\n          type=\"text\"\n          maxLength=\"1\"\n          value={char}\n          onChange={(e) => handleChange(e, index)}\n          onKeyDown={(e) => handleKeyDown(e, index)}\n          onPaste={handlePaste}\n          ref={(el) => (inputsRef.current[index] = el)}\n          className=\"code-input-bubble\"\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default function ForgotPassword({ setIsAuthenticated }) {\n  const navigate = useNavigate();\n\n  // step = 1 -> user enters email.\n  // step = 2 -> user enters OTP.\n  const [step, setStep] = useState(1);\n\n  // For step 1:\n  const [email, setEmail] = useState('');\n  // For step 2 (OTP), using a string instead of an array.\n  const [otp, setOtp] = useState('');\n  const [errorMsg, setErrorMsg] = useState(null);\n  const [successMsg, setSuccessMsg] = useState(null);\n\n  // Step 1: Send OTP.\n  const handleSendOTP = async (e) => {\n    e.preventDefault();\n    setErrorMsg(null);\n    setSuccessMsg(null);\n\n    if (!email) {\n      return setErrorMsg('Please enter your email.');\n    }\n\n    try {\n      const result = await requestPasswordOTP(email);\n      if (result.message && result.message.toLowerCase().includes('one-time code sent')) {\n        setSuccessMsg(result.message);\n        // Switch to OTP step after a short delay.\n        setTimeout(() => {\n          setStep(2);\n          setSuccessMsg(null);\n        }, 1500);\n      } else {\n        setErrorMsg(result.message || 'Failed to send code.');\n      }\n    } catch (err) {\n      console.error(err);\n      setErrorMsg('Failed to reach server.');\n    }\n  };\n\n  // Step 2: Verify OTP.\n  const handleVerifyOTP = async (e) => {\n    e.preventDefault();\n    setErrorMsg(null);\n    setSuccessMsg(null);\n\n    if (!otp || otp.length < 6) {\n      return setErrorMsg('Please enter the 6-digit code.');\n    }\n\n    try {\n      const result = await otpLogin(email, otp);\n      if (result.message && result.message.toLowerCase().includes('otp login successful')) {\n        localStorage.setItem('bacshotsUser', JSON.stringify(result.user));\n        setIsAuthenticated(true);\n        navigate('/change-password');\n      } else {\n        setErrorMsg(result.message || 'OTP Login failed.');\n      }\n    } catch (err) {\n      console.error(err);\n      setErrorMsg('Failed to reach server.');\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      {step === 1 && (\n        <>\n          <h2>Forgot Password</h2>\n          <p className=\"subheader\">\n            Enter your verified email to receive a one-time login code.\n          </p>\n          {errorMsg && <div className=\"error\">{errorMsg}</div>}\n          {successMsg && <div className=\"success\">{successMsg}</div>}\n\n          <form onSubmit={handleSendOTP}>\n            <div>\n              <label>Email</label>\n              <input\n                type=\"email\"\n                placeholder=\"you@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n            </div>\n            <button type=\"submit\">Send OTP Code</button>\n          </form>\n        </>\n      )}\n\n      {step === 2 && (\n        <>\n          <h2>Enter Verification Code</h2>\n          <p className=\"subheader\">\n            We sent a 6-digit code to <strong>{email}</strong>. Enter it below.\n          </p>\n          {errorMsg && <div className=\"error\">{errorMsg}</div>}\n          {successMsg && <div className=\"success\">{successMsg}</div>}\n\n          <form onSubmit={handleVerifyOTP}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '1rem' }}>\n              <CodeInput value={otp} onChange={setOtp} />\n            </div>\n            <button type=\"submit\" style={{ marginTop: '1rem' }}>\n              Verify Code\n            </button>\n          </form>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}