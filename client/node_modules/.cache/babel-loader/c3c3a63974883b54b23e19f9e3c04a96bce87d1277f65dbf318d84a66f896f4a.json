{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\melkote\\\\Desktop\\\\ActuallyAlmostFinalizedWaite-main1\\\\ActuallyAlmostFinalizedWaite-main\\\\client\\\\src\\\\pages\\\\Leaderboard.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Leaderboard.css';\nimport Navbar from '../components/Navbar';\nimport { createLeaderboard, joinLeaderboard, getUserLeaderboards, deleteLeaderboard } from '../api';\nimport AchievementRing from '../components/AchievementRing';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CodeInput({\n  value,\n  onChange\n}) {\n  _s();\n  const inputsRef = useRef([]);\n  const length = 5;\n  const handleChange = (e, index) => {\n    const char = e.target.value.toUpperCase();\n    let newVal = value.split('');\n    newVal[index] = char;\n    while (newVal.length < length) {\n      newVal.push('');\n    }\n    const newCode = newVal.slice(0, length).join('');\n    onChange(newCode);\n    if (char && index < length - 1) {\n      inputsRef.current[index + 1].focus();\n    }\n  };\n  const handleKeyDown = (e, index) => {\n    if (e.key === 'Backspace' && !value[index] && index > 0) {\n      inputsRef.current[index - 1].focus();\n    }\n  };\n  const handlePaste = e => {\n    e.preventDefault();\n    const pasteData = e.clipboardData.getData('text').toUpperCase();\n    let newVal = pasteData.split('').slice(0, length);\n    while (newVal.length < length) {\n      newVal.push('');\n    }\n    const newCode = newVal.join('');\n    onChange(newCode);\n    if (inputsRef.current[length - 1]) {\n      inputsRef.current[length - 1].focus();\n    }\n  };\n  const codeArray = [];\n  for (let i = 0; i < length; i++) {\n    codeArray.push(value[i] || '');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"code-input-container\",\n    children: codeArray.map((char, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      maxLength: \"1\",\n      value: char,\n      onChange: e => handleChange(e, index),\n      onKeyDown: e => handleKeyDown(e, index),\n      onPaste: handlePaste,\n      ref: el => inputsRef.current[index] = el,\n      className: \"code-input-bubble\"\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n// Helper to get rank color.\n_s(CodeInput, \"eRUM/Nina6q01Ggvsw3e8PaEedE=\");\n_c = CodeInput;\nfunction getRankColor(rank) {\n  if (rank === 1) return '#FFD700'; // Gold\n  if (rank === 2) return '#C0C0C0'; // Silver\n  if (rank === 3) return '#CD7F32'; // Bronze\n  return '#000'; // Black\n}\n\n// Modal component for detailed leaderboard rankings.\nfunction LeaderboardDetailModal({\n  leaderboard,\n  onClose,\n  currentUser\n}) {\n  _s2();\n  const [closing, setClosing] = useState(false);\n  const [rankingCriterion, setRankingCriterion] = useState('achievements'); // 'achievements' or 'daysSober'\n  const [showDeleteInput, setShowDeleteInput] = useState(false);\n  const [password, setPassword] = useState('');\n  const [deleteMessage, setDeleteMessage] = useState('');\n  const sortedScores = () => {\n    if (!leaderboard || !leaderboard.scores) return [];\n    const scores = [...leaderboard.scores];\n    if (rankingCriterion === 'achievements') {\n      scores.sort((a, b) => b.achievements - a.achievements);\n    } else if (rankingCriterion === 'daysSober') {\n      scores.sort((a, b) => b.daysSober - a.daysSober);\n    }\n    return scores;\n  };\n  const handleClose = () => {\n    setClosing(true);\n    setTimeout(() => onClose(), 300);\n  };\n  const handleDelete = async () => {\n    const result = await deleteLeaderboard({\n      leaderboardId: leaderboard._id,\n      userId: currentUser._id,\n      password\n    });\n    if (result.success) {\n      setDeleteMessage('Leaderboard deleted successfully.');\n      setTimeout(() => onClose(), 300);\n    } else {\n      setDeleteMessage(result.error || 'Error deleting leaderboard.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `modal-overlay ${closing ? 'fade-out' : 'fade-in'}`,\n    onClick: handleClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `modal-content large-modal ${closing ? 'scale-out' : 'scale-in'}`,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: leaderboard.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"leaderboard-code\",\n        children: [\"Code: \", leaderboard.code]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ranking-selector\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Rank by:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: rankingCriterion,\n          onChange: e => setRankingCriterion(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"achievements\",\n            children: \"Achievements\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"daysSober\",\n            children: \"Days Sober\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"score-list\",\n        children: sortedScores().map((score, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-rank\",\n            style: {\n              color: getRankColor(index + 1)\n            },\n            children: [index + 1, \".\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-name\",\n            children: score.user && score.user.name ? score.user.name : 'User'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-value\",\n            children: rankingCriterion === 'achievements' ? /*#__PURE__*/_jsxDEV(AchievementRing, {\n              unlockedCount: score.achievements,\n              size: 40,\n              strokeWidth: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [score.daysSober, \" days sober\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), currentUser && leaderboard.createdBy && currentUser._id === leaderboard.createdBy._id && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delete-section\",\n        children: showDeleteInput ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delete-popout\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Enter password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"delete-password-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-button\",\n            onClick: handleDelete,\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this), deleteMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"delete-message\",\n            children: deleteMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"delete-button\",\n          onClick: () => setShowDeleteInput(true),\n          children: \"Delete Leaderboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s2(LeaderboardDetailModal, \"BasSYSNfla629U1sF6PL+3JOHdw=\");\n_c2 = LeaderboardDetailModal;\nexport default function Leaderboard() {\n  _s3();\n  const navigate = useNavigate();\n  const storedUserStr = localStorage.getItem('bacshotsUser');\n  const user = storedUserStr ? JSON.parse(storedUserStr) : null;\n  const [activeTab, setActiveTab] = useState('view'); // 'view', 'join', 'create'\n  const [leaderboards, setLeaderboards] = useState([]);\n  const [joinCode, setJoinCode] = useState('');\n  const [createName, setCreateName] = useState('');\n  const [message, setMessage] = useState('');\n  const [modalLeaderboard, setModalLeaderboard] = useState(null);\n  const fetchLeaderboards = async () => {\n    if (!user) return;\n    try {\n      const res = await getUserLeaderboards(user._id);\n      if (res.success) {\n        setLeaderboards(res.leaderboards);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  useEffect(() => {\n    if (activeTab === 'view') {\n      fetchLeaderboards();\n    }\n  }, [activeTab, user]);\n  const handleCreate = async e => {\n    e.preventDefault();\n    if (!createName || !user) return;\n    const alreadyCreated = leaderboards.some(lb => lb.createdBy && lb.createdBy._id === user._id);\n    if (alreadyCreated) {\n      setMessage(\"You have already created a leaderboard.\");\n      return;\n    }\n    try {\n      const res = await createLeaderboard({\n        name: createName,\n        userId: user._id\n      });\n      if (res.success) {\n        setMessage(`Leaderboard created! Code: ${res.leaderboard.code}`);\n        fetchLeaderboards();\n      } else {\n        setMessage('Error creating leaderboard.');\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage('Error creating leaderboard.');\n    }\n  };\n  const handleJoin = async e => {\n    e.preventDefault();\n    if (joinCode.length !== 5 || !user) return;\n    try {\n      const res = await joinLeaderboard({\n        code: joinCode,\n        userId: user._id\n      });\n      if (res.success) {\n        setMessage(`Joined leaderboard: ${res.leaderboard.name}`);\n        fetchLeaderboards();\n      } else {\n        setMessage(res.error || 'Error joining leaderboard.');\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage('Error joining leaderboard.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"leaderboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      onSignOut: () => {\n        localStorage.removeItem('bacshotsUser');\n        navigate('/signin');\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leaderboard-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Leaderboards\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeTab === 'view' ? 'active' : '',\n          onClick: () => {\n            setActiveTab('view');\n            setMessage('');\n          },\n          children: \"View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeTab === 'join' ? 'active' : '',\n          onClick: () => {\n            setActiveTab('join');\n            setMessage('');\n          },\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: activeTab === 'create' ? 'active' : '',\n          onClick: () => {\n            setActiveTab('create');\n            setMessage('');\n          },\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 21\n      }, this), activeTab === 'view' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-section\",\n        children: leaderboards.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No leaderboards found. Create or join one!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 15\n        }, this) : leaderboards.map(lb => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"leaderboard-item\",\n          onClick: () => setModalLeaderboard(lb),\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: lb.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Code: \", lb.code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Participants: \", lb.participants.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 19\n          }, this)]\n        }, lb._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), activeTab === 'join' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"join-section\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleJoin,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Enter Code:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CodeInput, {\n            value: joinCode,\n            onChange: setJoinCode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Join Leaderboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this), activeTab === 'create' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-section\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleCreate,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Leaderboard Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: createName,\n            onChange: e => setCreateName(e.target.value),\n            placeholder: \"My Leaderboard\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              marginTop: '1rem'\n            },\n            children: \"Create Leaderboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), modalLeaderboard && /*#__PURE__*/_jsxDEV(LeaderboardDetailModal, {\n      leaderboard: modalLeaderboard,\n      onClose: () => setModalLeaderboard(null),\n      currentUser: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 5\n  }, this);\n}\n_s3(Leaderboard, \"DQyl28V7K/+uRd47gzUFc3HVz0k=\", false, function () {\n  return [useNavigate];\n});\n_c3 = Leaderboard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CodeInput\");\n$RefreshReg$(_c2, \"LeaderboardDetailModal\");\n$RefreshReg$(_c3, \"Leaderboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","Navbar","createLeaderboard","joinLeaderboard","getUserLeaderboards","deleteLeaderboard","AchievementRing","jsxDEV","_jsxDEV","CodeInput","value","onChange","_s","inputsRef","length","handleChange","e","index","char","target","toUpperCase","newVal","split","push","newCode","slice","join","current","focus","handleKeyDown","key","handlePaste","preventDefault","pasteData","clipboardData","getData","codeArray","i","className","children","map","type","maxLength","onKeyDown","onPaste","ref","el","fileName","_jsxFileName","lineNumber","columnNumber","_c","getRankColor","rank","LeaderboardDetailModal","leaderboard","onClose","currentUser","_s2","closing","setClosing","rankingCriterion","setRankingCriterion","showDeleteInput","setShowDeleteInput","password","setPassword","deleteMessage","setDeleteMessage","sortedScores","scores","sort","a","b","achievements","daysSober","handleClose","setTimeout","handleDelete","result","leaderboardId","_id","userId","success","error","onClick","stopPropagation","name","code","score","style","color","user","unlockedCount","size","strokeWidth","createdBy","placeholder","_c2","Leaderboard","_s3","navigate","storedUserStr","localStorage","getItem","JSON","parse","activeTab","setActiveTab","leaderboards","setLeaderboards","joinCode","setJoinCode","createName","setCreateName","message","setMessage","modalLeaderboard","setModalLeaderboard","fetchLeaderboards","res","err","console","handleCreate","alreadyCreated","some","lb","handleJoin","onSignOut","removeItem","participants","onSubmit","required","marginTop","_c3","$RefreshReg$"],"sources":["C:/Users/melkote/Desktop/ActuallyAlmostFinalizedWaite-main1/ActuallyAlmostFinalizedWaite-main/client/src/pages/Leaderboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './Leaderboard.css';\nimport Navbar from '../components/Navbar';\nimport { createLeaderboard, joinLeaderboard, getUserLeaderboards, deleteLeaderboard } from '../api';\nimport AchievementRing from '../components/AchievementRing';\n\nfunction CodeInput({ value, onChange }) {\n  const inputsRef = useRef([]);\n  const length = 5;\n  \n  const handleChange = (e, index) => {\n    const char = e.target.value.toUpperCase();\n    let newVal = value.split('');\n    newVal[index] = char;\n    while (newVal.length < length) {\n      newVal.push('');\n    }\n    const newCode = newVal.slice(0, length).join('');\n    onChange(newCode);\n    if (char && index < length - 1) {\n      inputsRef.current[index + 1].focus();\n    }\n  };\n\n  const handleKeyDown = (e, index) => {\n    if (e.key === 'Backspace' && !value[index] && index > 0) {\n      inputsRef.current[index - 1].focus();\n    }\n  };\n\n  const handlePaste = (e) => {\n    e.preventDefault();\n    const pasteData = e.clipboardData.getData('text').toUpperCase();\n    let newVal = pasteData.split('').slice(0, length);\n    while (newVal.length < length) {\n      newVal.push('');\n    }\n    const newCode = newVal.join('');\n    onChange(newCode);\n    if (inputsRef.current[length - 1]) {\n      inputsRef.current[length - 1].focus();\n    }\n  };\n\n  const codeArray = [];\n  for (let i = 0; i < length; i++) {\n    codeArray.push(value[i] || '');\n  }\n\n  return (\n    <div className=\"code-input-container\">\n      {codeArray.map((char, index) => (\n        <input\n          key={index}\n          type=\"text\"\n          maxLength=\"1\"\n          value={char}\n          onChange={(e) => handleChange(e, index)}\n          onKeyDown={(e) => handleKeyDown(e, index)}\n          onPaste={handlePaste}\n          ref={(el) => (inputsRef.current[index] = el)}\n          className=\"code-input-bubble\"\n        />\n      ))}\n    </div>\n  );\n}\n\n// Helper to get rank color.\nfunction getRankColor(rank) {\n  if (rank === 1) return '#FFD700'; // Gold\n  if (rank === 2) return '#C0C0C0'; // Silver\n  if (rank === 3) return '#CD7F32'; // Bronze\n  return '#000'; // Black\n}\n\n// Modal component for detailed leaderboard rankings.\nfunction LeaderboardDetailModal({ leaderboard, onClose, currentUser }) {\n  const [closing, setClosing] = useState(false);\n  const [rankingCriterion, setRankingCriterion] = useState('achievements'); // 'achievements' or 'daysSober'\n  const [showDeleteInput, setShowDeleteInput] = useState(false);\n  const [password, setPassword] = useState('');\n  const [deleteMessage, setDeleteMessage] = useState('');\n\n  const sortedScores = () => {\n    if (!leaderboard || !leaderboard.scores) return [];\n    const scores = [...leaderboard.scores];\n    if (rankingCriterion === 'achievements') {\n      scores.sort((a, b) => b.achievements - a.achievements);\n    } else if (rankingCriterion === 'daysSober') {\n      scores.sort((a, b) => b.daysSober - a.daysSober);\n    }\n    return scores;\n  };\n\n  const handleClose = () => {\n    setClosing(true);\n    setTimeout(() => onClose(), 300);\n  };\n\n  const handleDelete = async () => {\n    const result = await deleteLeaderboard({ leaderboardId: leaderboard._id, userId: currentUser._id, password });\n    if (result.success) {\n      setDeleteMessage('Leaderboard deleted successfully.');\n      setTimeout(() => onClose(), 300);\n    } else {\n      setDeleteMessage(result.error || 'Error deleting leaderboard.');\n    }\n  };\n\n  return (\n    <div className={`modal-overlay ${closing ? 'fade-out' : 'fade-in'}`} onClick={handleClose}>\n      <div className={`modal-content large-modal ${closing ? 'scale-out' : 'scale-in'}`} onClick={(e) => e.stopPropagation()}>\n        <h2>{leaderboard.name}</h2>\n        <p className=\"leaderboard-code\">Code: {leaderboard.code}</p>\n        <div className=\"ranking-selector\">\n          <label>Rank by:</label>\n          <select value={rankingCriterion} onChange={(e) => setRankingCriterion(e.target.value)}>\n            <option value=\"achievements\">Achievements</option>\n            <option value=\"daysSober\">Days Sober</option>\n          </select>\n        </div>\n        <div className=\"score-list\">\n          {sortedScores().map((score, index) => (\n            <div key={index} className=\"score-item\">\n              <span className=\"score-rank\" style={{ color: getRankColor(index + 1) }}>{index + 1}.</span>\n              <span className=\"score-name\">{score.user && score.user.name ? score.user.name : 'User'}</span>\n              <span className=\"score-value\">\n                {rankingCriterion === 'achievements' ? (\n                  <AchievementRing unlockedCount={score.achievements} size={40} strokeWidth={3} />\n                ) : (\n                  <span>{score.daysSober} days sober</span>\n                )}\n              </span>\n            </div>\n          ))}\n        </div>\n        {/* Delete section placed 20px below the score list */}\n        {currentUser && leaderboard.createdBy && (currentUser._id === leaderboard.createdBy._id) && (\n          <div className=\"delete-section\">\n            {showDeleteInput ? (\n              <div className=\"delete-popout\">\n                <input\n                  type=\"password\"\n                  placeholder=\"Enter password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"delete-password-input\"\n                />\n                <button className=\"delete-button\" onClick={handleDelete}>Confirm</button>\n                {deleteMessage && <p className=\"delete-message\">{deleteMessage}</p>}\n              </div>\n            ) : (\n              <button className=\"delete-button\" onClick={() => setShowDeleteInput(true)}>\n                Delete Leaderboard\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default function Leaderboard() {\n  const navigate = useNavigate();\n  const storedUserStr = localStorage.getItem('bacshotsUser');\n  const user = storedUserStr ? JSON.parse(storedUserStr) : null;\n  const [activeTab, setActiveTab] = useState('view'); // 'view', 'join', 'create'\n  const [leaderboards, setLeaderboards] = useState([]);\n  const [joinCode, setJoinCode] = useState('');\n  const [createName, setCreateName] = useState('');\n  const [message, setMessage] = useState('');\n  const [modalLeaderboard, setModalLeaderboard] = useState(null);\n\n  const fetchLeaderboards = async () => {\n    if (!user) return;\n    try {\n      const res = await getUserLeaderboards(user._id);\n      if (res.success) {\n        setLeaderboards(res.leaderboards);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  useEffect(() => {\n    if (activeTab === 'view') {\n      fetchLeaderboards();\n    }\n  }, [activeTab, user]);\n\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    if (!createName || !user) return;\n    const alreadyCreated = leaderboards.some(lb => lb.createdBy && lb.createdBy._id === user._id);\n    if (alreadyCreated) {\n      setMessage(\"You have already created a leaderboard.\");\n      return;\n    }\n    try {\n      const res = await createLeaderboard({ name: createName, userId: user._id });\n      if (res.success) {\n        setMessage(`Leaderboard created! Code: ${res.leaderboard.code}`);\n        fetchLeaderboards();\n      } else {\n        setMessage('Error creating leaderboard.');\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage('Error creating leaderboard.');\n    }\n  };\n\n  const handleJoin = async (e) => {\n    e.preventDefault();\n    if (joinCode.length !== 5 || !user) return;\n    try {\n      const res = await joinLeaderboard({ code: joinCode, userId: user._id });\n      if (res.success) {\n        setMessage(`Joined leaderboard: ${res.leaderboard.name}`);\n        fetchLeaderboards();\n      } else {\n        setMessage(res.error || 'Error joining leaderboard.');\n      }\n    } catch (err) {\n      console.error(err);\n      setMessage('Error joining leaderboard.');\n    }\n  };\n\n  return (\n    <div className=\"leaderboard-container\">\n      <Navbar onSignOut={() => {\n        localStorage.removeItem('bacshotsUser');\n        navigate('/signin');\n      }} />\n      <div className=\"leaderboard-content\">\n        <h1>Leaderboards</h1>\n        <div className=\"tab-header\">\n          <button className={activeTab === 'view' ? 'active' : ''} onClick={() => { setActiveTab('view'); setMessage(''); }}>\n            View\n          </button>\n          <button className={activeTab === 'join' ? 'active' : ''} onClick={() => { setActiveTab('join'); setMessage(''); }}>\n            Join\n          </button>\n          <button className={activeTab === 'create' ? 'active' : ''} onClick={() => { setActiveTab('create'); setMessage(''); }}>\n            Create\n          </button>\n        </div>\n        {message && <div className=\"message\">{message}</div>}\n        {activeTab === 'view' && (\n          <div className=\"view-section\">\n            {leaderboards.length === 0 ? (\n              <p>No leaderboards found. Create or join one!</p>\n            ) : (\n              leaderboards.map(lb => (\n                <div key={lb._id} className=\"leaderboard-item\" onClick={() => setModalLeaderboard(lb)}>\n                  <h3>{lb.name}</h3>\n                  <p>Code: {lb.code}</p>\n                  <p>Participants: {lb.participants.length}</p>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n        {activeTab === 'join' && (\n          <div className=\"join-section\">\n            <form onSubmit={handleJoin}>\n              <label>Enter Code:</label>\n              <CodeInput value={joinCode} onChange={setJoinCode} />\n              <button type=\"submit\">Join Leaderboard</button>\n            </form>\n          </div>\n        )}\n        {activeTab === 'create' && (\n          <div className=\"create-section\">\n            <form onSubmit={handleCreate}>\n              <label>Leaderboard Name:</label>\n              <input\n                type=\"text\"\n                value={createName}\n                onChange={(e) => setCreateName(e.target.value)}\n                placeholder=\"My Leaderboard\"\n                required\n              />\n              <button type=\"submit\" style={{ marginTop: '1rem' }}>Create Leaderboard</button>\n            </form>\n          </div>\n        )}\n      </div>\n      {modalLeaderboard && (\n        <LeaderboardDetailModal \n          leaderboard={modalLeaderboard} \n          onClose={() => setModalLeaderboard(null)}\n          currentUser={user}\n        />\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}